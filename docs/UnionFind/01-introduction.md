# 并查集

作者：OneDirection 审核：

并查集（Disjoint set，Union-Find）是一种树形数据结构，支持两种操作：

- **合并（Union）**：将两个元素所属的集合合并为一个集合。
- **查找（Find）**：查找元素所在的集合，即根节点。

除以之外一般还需要**初始化**操作，将每个元素所在的集合初始化为其自身。

并查集的一个重要思想是，**用集合中的某一个元素代表整个集合**。

# 应用

1. 最小生成树：Kruskal 算法
2. 图的连通分量
3. 动态连接性：判断图的最早连通时间。

# 局限

1. 不支持 split 操作：任何节点一旦成为其他节点的子节点后，将永远不可能再成为树根。
2. 集合必须是 disjoint：同一个元素不能属于多个集合。
3. 集合代表不记录集合成员信息：
    1. 父节点不记录子节点的信息。
    2. 查找图中某节点所在的连通分量的所有节点需要再次扫描或者维护额外信息。

# 模板

本章节提供了三个模板：

1. 模板一：**基础**。实现并查集的基本功能。
2. 模板二：**进阶**。带路径压缩的并查集，在模板一基础上优化时间复杂度。
3. 模板三：**高级**。在模板二的基础上增加按秩合并。

一般情况下掌握模板二就够了。